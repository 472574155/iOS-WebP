{
  "name": "iOS-WebP",
  "tagline": "Google's WebP image format decoder and encoder for iOS",
  "body": "#iOS-WebP\r\n\r\nMost apps nowadays enhance user experience with the use of images, and one of the issues I've noticed with that is the amount of time it takes to load an image. (_Not everyone has the luxury of a fast connection_)\r\n\r\nGoogle's WebP image format offers better compression compared to PNG or JPEG, allowing apps to send/retrieve images with smaller file sizes, reducing request times and hopefully provide a better user experience.\r\n\r\n![alt demo](http://i.imgur.com/tUCyYhD.png \"Demo Screenshot\")\r\n\r\n#Getting Started\r\n\r\n###The CocoaPods Way\r\n```ruby\r\npod 'iOS-WebP', '0.5'\r\n```\r\n\r\n#Usage\r\nDon't forget to `#import <iOS-WebP/UIImage+WebP.h>`.\r\nThere are 3 methods in `iOS-WebP`, converting images __to__ WebP format, converting images __from__ WebP format, and setting an image's transparency.\r\n```objc\r\n+ (void)imageToWebP:(UIImage *)image quality:(CGFloat)quality alpha:(CGFloat)alpha preset:(WebPPreset)preset\r\n    completionBlock:(void (^)(NSData *result))completionBlock\r\n       failureBlock:(void (^)(NSError *error))failureBlock;\r\n\r\n+ (void)imageWithWebP:(NSString *)filePath\r\n      completionBlock:(void (^)(UIImage *result))completionBlock\r\n         failureBlock:(void (^)(NSError *error))failureBlock;\r\n\r\n- (UIImage *)imageByApplyingAlpha:(CGFloat)alpha;\r\n```\r\n\r\nEncoding and decoding of images are done in the background thread and results returned in the completion block on the main thread so as not to lock the main thread, allowing the UI to be updated as needed.\r\n\r\n#### Converting To WebP\r\n\r\n```objc\r\n// quality value is [0, 100]\r\n// alpha value is [0, 1]\r\n[UIImage imageToWebP:[UIImage imageNamed:@\"demo.jpg\"] quality:quality alpha:alpha preset:WEBP_PRESET_DEFAULT completionBlock:^(NSData *result) {\r\n  NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\r\n  NSString *webPPath = [paths[0] stringByAppendingPathComponent:@\"image.webp\"];\r\n  if (![result writeToFile:webPPath atomically:YES]) {\r\n    NSLog(@\"Failed to save file\");\r\n  }\r\n} failureBlock:^(NSError *error) {\r\n  NSLog(@\"%@\", error.localizedDescription);\r\n}];\r\n```\r\n\r\n#####`WebPPreset` possible values\r\n\r\n* `WEBP_PRESET_DEFAULT` _(default preset)_\r\n* `WEBP_PRESET_PICTURE` _(digital picture, like portrait, inner shot)_\r\n* `WEBP_PRESET_PHOTO`   _(outdoor photograph, with natural lighting)_\r\n* `WEBP_PRESET_DRAWING` _(hand or line drawing, with high-contrast details)_\r\n* `WEBP_PRESET_ICON`    _(small-sized colorful images)_\r\n* `WEBP_PRESET_TEXT`    _(text-like)_\r\n\r\n##### Config block\r\n\r\nIf you need to fine tune the performance of the encoding algorithm you can specify overrides to the preset in a config block.\r\n\r\n```objc\r\n// quality value is [0, 100]\r\n// alpha value is [0, 1]\r\n[UIImage imageToWebP:[UIImage imageNamed:@\"demo.jpg\"] quality:quality alpha:alpha\r\n preset:WEBP_PRESET_DEFAULT\r\n configBlock:^(WebPConfig *config) {\r\n    config->sns_strength = 50.0f;\r\n    config->filter_strength = 0.0f;\r\n    config->method = 2;\r\n    config->preprocessing = 0;\r\n    config->filter_sharpness = 0;\r\n    config->thread_level = 1;\r\n }\r\n completionBlock:^(NSData *result) {\r\n  NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\r\n  NSString *webPPath = [paths[0] stringByAppendingPathComponent:@\"image.webp\"];\r\n  if (![result writeToFile:webPPath atomically:YES]) {\r\n    NSLog(@\"Failed to save file\");\r\n  }\r\n} failureBlock:^(NSError *error) {\r\n  NSLog(@\"%@\", error.localizedDescription);\r\n}];\r\n```\r\n\r\nAll possible config values can be found in encode.h in the WebPConfig stuct.\r\n\r\n#### Converting From WebP\r\n\r\n```objc\r\n[UIImage imageWithWebP:@\"/path/to/file\" completionBlock:^(UIImage *result) {\r\n  UIImageView *myImageView = [[UIImageView alloc] initWithImage:result];\r\n}failureBlock:^(NSError *error) {\r\n  NSLog(@\"%@\", error.localizedDescription);\r\n}];\r\n```\r\n\r\n#### Setting Image Transparency\r\n\r\n```objc\r\n//alpha value is [0, 1]\r\nUIImage *transparencyImage = [[UIImage imageNamed:image.jpg] imageByApplyingAlpha:0.5];\r\n```\r\n\r\nCredits\r\n========\r\n* Based off [WebP-iOS-example](https://github.com/carsonmcdonald/WebP-iOS-example \"WebP-iOS-example\") by Carson McDonald\r\n* `imageByApplyingAlpha:alpha` function contributed by [Dmitry Shmidt](https://github.com/shmidt)\r\n* `WebPConfig` block contributed by [Kasper Weibel Nielsen-Refs](https://github.com/weibel) and [Eugene Scherba](https://github.com/escherba)\r\n* [`free_image_data` crash fix](https://github.com/seanooi/iOS-WebP/issues/16) contributed by [Brandon Schlenker](https://github.com/brandons) and [zblackmore](https://github.com/zblackmore)\r\n* Memory leak and color changing fix contributed by [Sagar Dagdu](https://github.com/SagarSDagdu)\r\n* `pod libwebp` dependency and demo project changes contributed by [Emil](https://github.com/emilwojtaszek)\r\n",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}